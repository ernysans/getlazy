!function(e,t){"function"==typeof define&&define.amd?define(["lend","occurrence"],t):"object"==typeof exports?module.exports=t(require("lend"),require("occurrence")):e.getLazy=t(e.lend,e.occurrence)}(this,function(e,t){/*!
     * getLazy v0.1: Lightweight lazy loading content script.
     * (c) 2016 Erny Sans
     * 
     * http://github.com/ernysans/getlazy
     * http://erny.co
     * MIT License
     */
"use strict";function s(){window.addEventListener("DOMContentLoaded",function(e){e.preventDefault(),a(),window.addEventListener("load",a(),!1),window.addEventListener("DOMSubtreeModified",x,!1),window.addEventListener("scroll",x,!1),window.addEventListener("resize",f,!1)},!1)}function r(){var e,t=document.querySelectorAll(".getLazy__loaded");for(e=0;e<t.length;e++)n(t[e])}function n(e){e&&e.classList.remove(o.successClass),d(e)}function a(){var e,t=document.querySelectorAll(".getLazy[data-src]:not(.getLazy__loaded)");for(e=0;e<t.length;e++)d(t[e])}function d(e){if(e)var t={};t.base=e.getAttribute(u.base),t.hd=e.getAttribute(u.hd),t.xl=e.getAttribute(u.xl),t.lg=e.getAttribute(u.lg),t.md=e.getAttribute(u.md),t.sm=e.getAttribute(u.sm),t.xs=e.getAttribute(u.xs),t.type=e.getAttribute(u.type);var s=c(t),r=l(t,s),n=e.getBoundingClientRect(),a=n.top,d=Math.max(window.innerHeight||document.documentElement.clientHeight||0),m=d+d/2;!e.classList.contains(o.successClass)&&m>=a&&i(r,t.type,e)}function c(e){return"hd"==g||"retina"==g?e.xl&&"xl"==m?"hd":e.lg&&"lg"==m?"xl":e.md&&"md"==m?"lg":e.sm&&"sm"==m?"md":e.xs&&"xs"==m?"sm":"base":"sd"==g?e.xl&&"xl"==m?"xl":e.lg&&"lg"==m?"lg":e.md&&"md"==m?"md":e.sm&&"sm"==m?"sm":e.xs&&"xs"==m?"xs":"base":"base"}function l(e,t){return"hd"==t?e.hd:"xl"==t?e.xl:"lg"==t?e.lg:"md"==t?e.md:"sm"==t?e.sm:"xs"==t?e.xs:e.base}function i(e,t,s){if("background"==t&&e)try{s.style.backgroundImage='url("'+e+'")',s.classList.add(o.successClass,"animated","fadeIn"),s.classList.remove(o.errorClass)}catch(r){s.classList.add(o.errorClass)}else if(!t&&e)try{s.setAttribute("src",e),s.classList.add(o.successClass,"animated","fadeIn"),s.classList.remove(o.errorClass)}catch(r){s.classList.add(o.errorClass)}}var o={};o.selector=".getLazy",o.errorClass="getLazy__error",o.successClass="getLazy__loaded";var u={};u.current="src",u.base="data-src",u.hd="data-src-hd",u.xl="data-src-xl",u.lg="data-src-lg",u.md="data-src-md",u.sm="data-src-sm",u.xs="data-src-xs",u.type="data-src-type";var m=e.screenSize("bootstrap"),g=e.screenDensity(),f=t.debounce(function(t){t.preventDefault(),m=e.screenSize("bootstrap"),g=e.screenDensity(),r()},1e3),x=t.debounce(function(e){e.preventDefault(),a()},20);return s});